# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏:

### ‚úÖ 1. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª MusicManager.gd
- –§–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ `res://singletons/MusicManager.gd`
- –í–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∫—Ä–æ—Å—Å-—Ñ–µ–π–¥–∞ –º–µ–∂–¥—É —Ç—Ä–µ–∫–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –∏ –º—å—é—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —à–∏–Ω—É Music –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç

### ‚úÖ 2. –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ –º—É–∑—ã–∫–∏ –≤ —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ü–µ–Ω—É
- –í `scripts/StartMenu.gd` –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `Music.play_bgm("res://assets/music/music.mp3", 0.6, true)`
- –ú—É–∑—ã–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –º–µ–Ω—é

### ‚úÖ 3. –î–æ–±–∞–≤–ª–µ–Ω—ã UI —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π
- –ö–Ω–æ–ø–∫–∞ –º—å—é—Ç–∞ (üîä/üîá) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –°–ª–∞–π–¥–µ—Ä –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (0-1) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ—Å—á–µ—Ç–æ–º –≤ dB
- –≠–ª–µ–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å—Ü–µ–Ω—É `StartMenu.tscn`

## –¢—Ä–µ–±—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Godot:

### üîß 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É–¥–∏–æ —à–∏–Ω—ã
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Project ‚Üí Audio ‚Üí Bus Layout**
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é —à–∏–Ω—É **Music**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **Send ‚Üí Master** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### üîß 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Project ‚Üí Project Settings‚Ä¶**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Autoload**
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑:
   - **Path**: `res://singletons/MusicManager.gd`
   - **Node Name**: `Music`
4. –ù–∞–∂–º–∏—Ç–µ **Add** –∏ **Close**

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

### üéµ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π
- **play_bgm(track_path, volume_db, loop)** - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å –∫—Ä–æ—Å—Å-—Ñ–µ–π–¥–æ–º
- **stop_bgm()** - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–ª–∞–≤–Ω—ã–º –∑–∞—Ç—É—Ö–∞–Ω–∏–µ–º
- **set_volume_db(volume_db)** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –≤ dB
- **toggle_mute()** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º—å—é—Ç–∞
- **get_volume_db()** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≥—Ä–æ–º–∫–æ—Å—Ç–∏

### üéõÔ∏è UI —ç–ª–µ–º–µ–Ω—Ç—ã
- **–ö–Ω–æ–ø–∫–∞ –º—å—é—Ç–∞**: –≤—ã–∑—ã–≤–∞–µ—Ç `Music.toggle_mute()`
- **–°–ª–∞–π–¥–µ—Ä –≥—Ä–æ–º–∫–æ—Å—Ç–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç 0-1 –≤ dB –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `Music.set_volume_db(db)`

### üíæ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –∏ –º—å—é—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `user://music_settings.dat`
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
- –ú—É–∑—ã–∫–∞ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–≥—Ä–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —è–≤–Ω–æ–º –≤—ã–∑–æ–≤–µ)

### üîÑ –ö—Ä–æ—Å—Å-—Ñ–µ–π–¥
- –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Ç—Ä–µ–∫–∞–º–∏ (2 —Å–µ–∫—É–Ω–¥—ã)
- –ú—É–∑—ã–∫–∞ –Ω–µ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ü–µ–Ω
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è —Ç—Ä–µ–∫–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º—É–∑—ã–∫–∞ –∏–≥—Ä–∞–µ—Ç –≤ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º –º–µ–Ω—é
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ –º—å—é—Ç–∞ –∏ —Å–ª–∞–π–¥–µ—Ä–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É - –º—É–∑—ã–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–≥—Ä–∞—Ç—å
5. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –º–µ–Ω—é - –º—É–∑—ã–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å

### –û—Ç–ª–∞–¥–∫–∞:
–ï—Å–ª–∏ –º—É–∑—ã–∫–∞ –Ω–µ –∏–≥—Ä–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

#### ‚ùå –û—à–∏–±–∫–∞: "Node not found: /root/Music"
**–†–µ—à–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É MusicManager:
1. **Project ‚Üí Project Settings ‚Üí Autoload**
2. **Path**: `res://singletons/MusicManager.gd`
3. **Node Name**: `Music`
4. –ù–∞–∂–º–∏—Ç–µ **Add** –∏ **Close**

#### ‚úÖ –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
- "StartMenu: MusicManager –Ω–∞–π–¥–µ–Ω"
- "StartMenu: –ó–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏ —á–µ—Ä–µ–∑ MusicManager"
- "MusicManager: –ó–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏ - res://assets/music/music.mp3"
- "MusicManager: –¢—Ä–µ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ"
- "MusicManager: –ü—Ä–æ—Å—Ç–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ"

#### ‚ùå –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ: "StartMenu: MusicManager –Ω–µ –Ω–∞–π–¥–µ–Ω!"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ (—Å–º. –≤—ã—à–µ)

#### ‚ùå –ï—Å–ª–∏ –º—É–∑—ã–∫–∞ –≤—Å–µ –µ—â–µ –Ω–µ –∏–≥—Ä–∞–µ—Ç:
1. **–§–∞–π–ª –º—É–∑—ã–∫–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `res://assets/music/music.mp3` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

2. **–ê—É–¥–∏–æ —à–∏–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞**:
   - Project ‚Üí Audio ‚Üí Bus Layout
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —à–∏–Ω–∞ "Music"

3. **–†–µ–∑–µ—Ä–≤–Ω—ã–π –ø–ª–µ–µ—Ä**:
   - –ï—Å–ª–∏ MusicManager –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø–ª–µ–µ—Ä
   - –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è: "StartMenu: –ó–∞–ø—É—â–µ–Ω —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø–ª–µ–µ—Ä –º—É–∑—ã–∫–∏"

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–∏ –≤ –¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```gdscript
var music_manager = get_node("/root/Music")
if music_manager:
    music_manager.play_bgm("res://path/to/your/music.mp3", -5.0, true)
```

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º—É–∑—ã–∫–∏:
```gdscript
var music_manager = get_node("/root/Music")
if music_manager:
    music_manager.stop_bgm()
```
